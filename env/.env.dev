# This file includes environment variables that will be committed to git by default.

# Built-in environment variables
TEAMSFX_ENV=dev
APP_NAME_SUFFIX=dev

# Updating AZURE_SUBSCRIPTION_ID or AZURE_RESOURCE_GROUP_NAME after provision may also require an update to RESOURCE_SUFFIX, because some services require a globally unique name across subscriptions/resource groups.
AZURE_SUBSCRIPTION_ID=0f1323ea-0f29-4187-9872-e1cf15d677de
AZURE_RESOURCE_GROUP_NAME=rg-saas-test
RESOURCE_SUFFIX=997b9c

# Generated during provision, you can also add your own variables.
BOT_ID=79ab6e4d-5563-428c-858c-954107e5e61f
TEAMS_APP_ID=89adcba4-c8b4-4005-a751-9df0d01a6e04
BOT_AZURE_APP_SERVICE_RESOURCE_ID=/subscriptions/0f1323ea-0f29-4187-9872-e1cf15d677de/resourceGroups/rg-saas-test/providers/Microsoft.Web/sites/bot997b9c
BOT_DOMAIN=bot997b9c.azurewebsites.net

# SaaS Accelerator Configuration
SAAS_RESOURCE_GROUP=rg-saasaccel-teams-gpt-02
SAAS_LOCATION=canadacentral
SAAS_PORTAL_NAME=sac-02-portal
SAAS_ADMIN_NAME=sac-02-admin
SAAS_SQL_SERVER=sac-02-sql
SAAS_DB_NAME=sac-02AMPSaaSDB
SAAS_PORTAL_URL=https://sac-02-portal.azurewebsites.net
SAAS_ADMIN_URL=https://sac-02-admin.azurewebsites.net
SAAS_WEBHOOK_URL=https://sac-02-portal.azurewebsites.net/api/AzureWebhook
SAAS_TENANT_ID=aba0984a-85a2-4fd4-9ae5-0a45d7efc9d2
SAAS_APP_ID=d3b2710f-1be9-4f89-8834-6273619bd838
SAAS_SUBSCRIPTION_ID=0f1323ea-0f29-4fd4-9ae5-0a45d7efc9d2

# ⚠️ SECRETS requis - définis dans .env.dev.user (gitignored)
# SAAS_ADMIN_EMAIL=<votre_email_admin>
# SECRET_AZURE_OPENAI_API_KEY=<votre_clé_openai>
# SECRET_MARKETPLACE_METERING_CLIENT_SECRET=<votre_client_secret>
# Voir doc/adr/004-secrets-management-strategy.md pour détails

# Phase 2: SaaS Integration Configuration
# Database connection using Azure AD Managed Identity (no password needed)
# Connection string format: Server=tcp:<server>;Database=<db>;TrustServerCertificate=True;Authentication=Active Directory Default;
SAAS_DB_SERVER=sac-02-sql.database.windows.net
SAAS_DB_NAME=sac-02AMPSaaSDB
SAAS_DB_USER=
SAAS_DB_PASSWORD=
SAAS_DB_USE_MANAGED_IDENTITY=true

# Metered dimensions (aligned with Partner Center)
SAAS_DIMENSION_FREE=free
SAAS_DIMENSION_PRO=pro
SAAS_DIMENSION_PRO_PLUS=pro-plus

# Monthly message limits per plan
SAAS_LIMIT_FREE=50
SAAS_LIMIT_PRO=300
SAAS_LIMIT_PRO_PLUS=1500

# Cost per message by dimension (for display)
SAAS_COST_FREE=0.02
SAAS_COST_PRO=0.015
SAAS_COST_PRO_PLUS=0.01

# Plan IDs (must match Partner Center)
SAAS_PLAN_DEVELOPMENT=development
SAAS_PLAN_STARTER=starter
SAAS_PLAN_PROFESSIONAL=professional
SAAS_PLAN_PRO_PLUS=pro-plus

# Feature flags for progressive deployment
SAAS_ENABLE_MESSAGE_LOGS=false
SAAS_DEBUG_MODE=true
SAAS_PERMISSIVE_MODE=true
SAAS_ENABLE_SUBSCRIPTION_CHECK=false
SAAS_ENABLE_USAGE_TRACKING=false
SAAS_BLOCK_NO_SUBSCRIPTION=false

# Phase 2.5: Azure Marketplace Metering Service API
# DISABLED in dev - enable only in production after testing
MARKETPLACE_METERING_ENABLED=false

# Azure AD credentials for Marketplace API (uses same app registration as bot)
# Override these if using separate app registration for marketplace
MARKETPLACE_METERING_TENANT_ID=aba0984a-85a2-4fd4-9ae5-0a45d7efc9d2
# MARKETPLACE_METERING_CLIENT_ID=  # Leave empty to use CLIENT_ID

# ⚠️ SECRET requis - défini dans .env.dev.user (gitignored)
# SECRET_MARKETPLACE_METERING_CLIENT_SECRET=<votre_client_secret>
# Voir doc/adr/004-secrets-management-strategy.md pour détails

# Marketplace Metering Service API endpoint
MARKETPLACE_METERING_API_URL=https://marketplaceapi.microsoft.com/api/usageEvent?api-version=2018-08-31

# Retry configuration for API calls
MARKETPLACE_METERING_RETRY_MAX=3
MARKETPLACE_METERING_RETRY_DELAY=1000

# Azure Marketplace resource ID (standard, do not change)
MARKETPLACE_METERING_RESOURCE_ID=20e940b3-4c77-4b0b-9a53-9e16a1b010a7

TEAMS_APP_TENANT_ID=aba0984a-85a2-4fd4-9ae5-0a45d7efc9d2
BOT_TENANT_ID=aba0984a-85a2-4fd4-9ae5-0a45d7efc9d2